<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>bk-intro-to-ng2</title>

		<meta name="description" content="An intro to ng2">
		<meta name="author" content="Ben Kinsy">

		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->

    <style>
      th, td {
        text-align: center !important;
      }
      .vs-column {
        color: gray; 
      }
    </style>
	</head>

	<body>

		<div class="reveal">

			<div class="slides">
				<section>
					<h1>intro to ng2</h1>
          <h3 style="text-transform:none">
            Angular2 aka <a href="angular.io">angular.io</a> aka ng2 aka Angular
          </h3>
          <p>(as opposed to AngularJS which refers to Angular1)</p>
					<p>
						Ben Kinsey <a href="http://twitter.com/bkinsey808">@bkinsey808</a>
					</p>
				</section>

				<section>
					<h2>What is Angular2?</h2>
          <div class="fragment">
            <div class="fragment strike">A framework for building mobile and desktop applications</div>
            <div class="fragment">A compiler!</div>
            <div class="fragment">(sort of)</div>
            
          </div>
        </section>
        
				<section>
            <table>
              <tr>
                <th style="font-size:2em">ng2</th>
                <th class="vs-column">vs</th>
                <th style="font-size:2em">react</th>
              </tr>
              <tr class="fragment">
                <th>typescript</th>
                <th class="vs-column">written in</th>
                <th>es5</th>
              </tr>
              <tr class="fragment">
                <th>beta.1</th>
                <th class="vs-column">version</th>
                <th>0.15</th>
              </tr>
              <tr class="fragment">
                <th>google</th>
                <th class="vs-column">megacorp</th>
                <th>facebook</th>
              </tr>
              <tr class="fragment">
                <th>framework</th>
                <th class="vs-column">considered as</th>
                <th>library</th>
              </tr>
              <tr class="fragment">
                <th>more opinionated</th>
                <th class="vs-column"></th>
                <th>less opinionated</th>
              </tr>
              <tr class="fragment">
                <th>more corporate</th>
                <th class="vs-column"></th>
                <th>more hipster</th>
              </tr>

            </table>
				  </section>

					<section>
            <table>
              <tr>
                <th style="font-size:2em">ng2</th>
                <th class="vs-column">vs</th>
                <th style="font-size:2em">react</th>
              </tr>
              <tr class="fragment">
                <th>dirty checking</th>
                <th class="vs-column">change detection</th>
                <th>virtual dom diffing</th>
              </tr>
              <tr class="fragment">
                <th>more complex</th>
                <th class="vs-column"></th>
                <th>simpler</th>
              </tr>
              <tr class="fragment">
                <th>more extensible</th>
                <th class="vs-column">change detection strategy</th>
                <th>less extensible</th>
              </tr>

              
            </table>
          </section>

          
				  <section>
					  <p style="font-size:2em">ng2 change detection</p>
            <p class="fragment" style="font-size:2em; text-decoration: underline;">super optimized</p>
            <div class="fragment">
              <p>different strategies for different scenarios</p>
              <p>jit change detection</p>
              <p>inline caching</p>
              <p>only updates changed bindings</p>
              <p>can be further optimized with immutables and observables</p>
            </div>
				  </section>

          
          <section>
            <p style="font-size:2em">ng2 uses Zone.js</p>
            <p>tells ng2 when to run change detection</p>
            <p>How it works:</p>
            <div class="fragment">
              <p class="fragment strike">intercepts all asynchronous events so they map to the same thread local context</p>
            </div>
            <p class="fragment">MAGIC!</p>
            <ul class="fragment">
              <li><strong>no more digest loop</strong></li>
              <li>no more $timeout</li>
            <li>no more $scope.$apply(), ever</li>
            </ul>
          </section>
          
          <section>
            <img src="img/ng1-graveyard.png" style="width:500px;">
          </section>


          <section>
            <img src="img/ng2-perf-1.png" style="width:800px;">
          </section>

          <section>
            <img src="img/ng2-perf-2.png" style="width:800px;">
          </section>
<!--
          <section>
            <img src="img/ng2-perf.png" style="width:900px;">
          </section>
-->
          <section>
            <img src="img/migrate-from-ng1-to-ng2.png" style="width:900px;">
          </section>
          
				<section>
					  <p style="font-size:2em">Learn TypeScript!</p>
            <p class="fragment" style="font-size:1em;">(Don't worry, it's awesome)</p>
            <div class="fragment">It's just...</div>
            <div style="font-size:1.5em" class="fragment">ES6 + ES7 + optional static typing</div>
            <div class="fragment">That's it!!!</div>					
				</section>

        <section>
          <div style="float: left; width:50%">
          AngularJS
          <pre><code data-noescape>import angular, {bootstrap}
  from 'angular';

angular.module('app', [])
.component('app', {
  restrict: 'E',
  template: `
    &lt;div>
      Hello World
    &lt;/div>
  `,
  controller: class App {}
});

bootstrap(document, ['app']);</code></pre>
         </div>

         <div class="fragment" style="float: right; width:50%">
          Angular2
          <pre><code data-noescape>import {bootstrap} from
  'angular2/platform/browser';
import {Component} from
  'angular2/core';

@Component({
  selector: 'app',
  template: `
    &lt;div>
      Hello World
    &lt;/div>
  `
})
class App {}

bootstrap('App', []);</code></pre>
<small>Slide credit: Patrick Stapleton</small>
          </div>


        </section>

<section>
  <p style="font-size:1.5em; text-decoration:underline">What the @ are decorators?</p>
  <p>simply functions that modify:</p>
  <p>&bullet; methods</p>
  <p>&bullet; method parameters</p>
  <p>&bullet; properties</p>
  <p>&bullet; classes</p>
  <p>Decorators are typically used to add metadata,
    but could also add mixin-like functionalty</p>

</section>


<section>
  <p>@<u>Component</u> - tells ng2 that the class defines a component, and also how to process it</p>
  <ul style="padding-left:50px">
    <li><u>selector</u> - a css selector (DOM element tag) that tells ng2 to create and insert an instance of this component in the parent HTML</li>
    <li style="padding-top:30px"><u>template</u> - the template string</li>
<!--
    <li><u>directives</u> - an array of the Components or Directives that this template requires</li>
    <li><u>providers</u> - an array of dependency injection providers for services that the component requires</li>
-->
  </ul>

</section>

<section>
  <p style="font-size:1.5em">An ng2 app is a tree of components</p>
  <p class="fragment">A component is self-describing:</p>
  <ul class="fragment">
    <li>knows how to interact with its host element.</li>
    <li>knows how to render itself.
    <li>configures dependency injection
    <li>has a well-defined public API of input and output properties.
  </ul>
  <p class="fragment">Scope is not inherited down the DOM tree. <u>There is no scope.</u></p>
</section>


<section>
  <p style="font-size:1.5em">Let's talk Templates</p>

  <p>ng2 templates are compiled at compile time instead of runtime for optimization</p>
  <p><strong>Key Point:</strong> same syntax for custom and native components</p>
  <p>explicit syntax makes template easier to refactor without understanding underlying components</p>
  <p>friendly for tooling (though not much ng2 template tooling has been built yet)</p>
</section>


<section>
  <p style="text-decoration: underline; font-size:1.2em">What the #*{{|}}*[()] did you do to my HTML?</p>
  <small class="fragment">calm down, it actually makes a lot of sense</small>
  <div class="fragment">
    <p>[] property binding</p>
    <p>() event binding</p>
    <p>[()] two way binding</p>
    <p>{{}} interpolation</p>
    <p>* template tag (ngIf, ngFor, etc)</p>
    <p># local variable</p>
    <p>| pipe</p>
  </div>
</section>


<section>
  <p style="font-size:1.5em">The evolution of forms</p>

  <p>ng1 forms rely on the <strong>ng-model</strong> directive</p>

  <p>instantaneous two-way data binding keeps a form control in sync with a view model.</p>
  <div class="fragment">
    <p>However, the approach has some disadvantages:</p>
    <ul>
      <li>everything is mutable</li>
      <li>strange, unintended side-effects if same model is used elsewhere</li>
      <li>validation logic often contaminates templates</li>
      <li>form testing must be end-to-end because forms are implemented directly as DOM.</li>
    </ul>
  </div>
</section>

<section>

  
  
  <div style="float: left; width: 50%">
    <u>Template-based forms</u>
    <ul style="font-size:.8em">
      <li>quick and easy, similar to ng1 forms</li>
      <li>simpler, easier, and similar to ng1 forms</li>
      <li>Can be implemented with very little component code</li>
      <li>Hard to unit test</li>
      <li>allows validation logic to infest the template (bad!)</li>
      <li>does not work with immutable objects</li>
      <li>everything is mutable, almost diametric opposite of redux pattern</li>
    </ul>
  </div>
  <div style="float: right; width: 50%">
    <u>Model-based forms</u>
    <ul style="font-size:.8em">
      <li>best practice for advanced use cases</li>
      <li>more complex and very different from ng1 forms</li>
      <li>requires non-trivial component code</li>
      <li>validation logic must be in the component code (good!)</li>
      <li>works with immutable objects</li>
      <li>state is now easier to centralize and manage, making redux pattern possible</li>
      <li class="fragment"><u>form and controls are observables leading to modern FRP (functional reactive programming) patterns</u></li>
    </ul>
  </div>
</section>

<section>
  <img src="img/everything-is-a-stream.jpeg" style="width:700px;">
</section>

<section>
  <img src="img/compose-all-the-events.jpeg" style="width:700px;">
</section>

<section>
  <p style="font-size:1.5em">Ready for the Rx Revolution?</p>
  <p>in ng1 promises were prevalent, in ng2 it will be observables.</p>
  <div class="fragment">
    <p>observables have advantage over promises:</p>
    <ul>
      <li>disposability (can be canceled before completed)</li>
      <li>lazy (will not get evaluated unless subscribed)</li>
      <li>re-usable (can be subscribed to and unsubscribed to multiple times)</li>
      <li>returns a stream of values, like an array but async</li>
      <li>can handle backpressure</li>
      <li>much better suited for real world client-server communication than promises</li>
    </ul>
  </div>
</section>
<section>

</section>
<section>

</section>
<section>

</section>



</div>




		</div>



		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
